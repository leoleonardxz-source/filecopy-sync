spring.application.name=fileCopy
spring.main.web-application-type=none
# prod 
spring.task.scheduling.pool.size=1
#test
# spring.task.scheduling.pool.size=4


# ========== MySQL (本地) ==========
spring.datasource.mysql.jdbc-url=jdbc:mysql://mysql:3306/wp?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Shanghai&characterEncoding=utf8
spring.datasource.mysql.username=root
spring.datasource.mysql.password=${MYSQL_PASSWORD}
spring.datasource.mysql.driver-class-name=com.mysql.cj.jdbc.Driver
# ===============================
# HikariCP
# ===============================
spring.datasource.mysql.hikari.maximum-pool-size=10
spring.datasource.mysql.hikari.minimum-idle=2
spring.datasource.mysql.hikari.connection-timeout=30000
spring.datasource.mysql.hikari.idle-timeout=600000
spring.datasource.mysql.hikari.max-lifetime=1800000

# ========== SQLServer (目标) ==========
spring.datasource.sqlserver.jdbc-url=jdbc:sqlserver://192.168.1.XXX:1433;databaseName=Kingdee;encrypt=false
spring.datasource.sqlserver.username=sa
spring.datasource.sqlserver.password=${SQLSERVER_PASSWORD}
spring.datasource.sqlserver.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver
# ===============================
# HikariCP
# ===============================
spring.datasource.sqlserver.hikari.maximum-pool-size=5
spring.datasource.sqlserver.hikari.minimum-idle=2
spring.datasource.sqlserver.hikari.connection-timeout=30000
spring.datasource.sqlserver.hikari.idle-timeout=600000
spring.datasource.sqlserver.hikari.max-lifetime=1800000

# ===============================
# MyBatis-Plus
# ===============================
mybatis-plus.configuration.map-underscore-to-camel-case=true
# ===============================
# LOGGING
# ===============================
mybatis-plus.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl
logging.level.org.apache.ibatis=DEBUG

# 让日志落到容器内 /data/logs（宿主机映射到 /data/filecopy/logs）
logging.file.path=${LOGGING_FILE_PATH:/data/logs}
logging.file.name=${logging.file.path}/filecopy.log

# 单文件 50MB，避免单文件过大
logging.logback.rollingpolicy.max-file-size=50MB
# 保留 30 天
logging.logback.rollingpolicy.max-history=30
# 总量兜底：避免异常日志把盘打满（按你情况 1GB 都够宽松）
logging.logback.rollingpolicy.total-size-cap=1GB
# 可选：启动时顺手清一次（更符合“30天前就该没了”的直觉）
logging.logback.rollingpolicy.clean-history-on-start=true
# ===============================
# PROD
# ===============================
# no log-impl
#logging.level.org.apache.ibatis=WARN
#logging.level.com.baomidou.mybatisplus=WARN


# ===============================
# download properties
# ===============================
download.target.nginx.server.ip=192.168.1.XXX
download.target.nginx.server.port=8081
download.target.nginx.server.username=XXXXX
download.target.nginx.server.password=${NGINX_PASSWORD}

# 下载 client 超时（秒）
download.target.nginx.download-timeout-seconds=120
download.target.nginx.timeout-seconds=120
download.target.nginx.large-threshold-mb=50
download.target.nginx.chunk-size-mb=5
download.target.nginx.resume=true
#download.local.temp-dir=/tmp/fileCopy/downloads
#下面这个配置的绝对路径，其实是容器内的路径，在compose中，已经做了映射关系
download.local.temp-dir=/data/tmp_files


# ===============================
# wechat cloud storage properties
# ===============================
wechat.cloud.company.id=XXXXX
wechat.cloud.service.agent-id=XXXXX
wechat.cloud.company.software-user-id=XXXXXX
wechat.cloud.service.secret=${CLOUD_ZS_SECRET}
wechat.cloud.service.space-id=XXXXXX
wechat.cloud.service.root-folder-id=XXXXXX
# API client 超时（秒）
wechat.cloud.service.api-timeout-seconds=30



